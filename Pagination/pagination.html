<style>
	/* This is for pagination */
	:root {
		--pagination-btn-bg-color: #d9e6fd;
		--pagination-btn-font-color: #000;
		--pagination-btn-bg-color-current: #3359a2;
		--pagination-btn-font-color-current: #fff;
		--pagination-btn-bg-color-hover: #3359a2;
		--pagination-btn-font-color-hover: #fff;
		--pagination-btn-border-radius: 5px;
	}
	/* You can use this class to to add ellipsis in any title of each item of collection list*/
	.title {
		-webkit-line-clamp: 1;
	}
	/* You can use this class to to add ellipsis in any descrtiption of each item of collection list*/
	.desc {
		-webkit-line-clamp: 3;
	}

	.desc,
	.title {
		display: -webkit-box;
		-webkit-box-orient: vertical;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	.w-dyn-list {
		width: 100%;
	}

	.w-dyn-list>div:first-child {
		min-height: 450px;
		overflow: hidden;
	}

	.w-dyn-items {
		padding-bottom: 2rem;
	}

	.fs-list_pagination_button.w--current {
		color: var(--pagination-btn-font-color-current);
		cursor: not-allowed;
		background-color: var(--pagination-btn-bg-color-current);
		transition: transform 0.2s ease, background-color 0.3s ease, color 0.3s ease;
	}

	div.list_page-buttons {
		display: contents;
	}

	div.w-pagination-wrapper a {
		font-size: 1rem;
		line-height: 1em;
		margin: 4px;
		padding: 12px 17px;
		align-content: center;
		text-decoration: none;
		border-radius: var(--pagination-btn-border-radius);
	}

	a.fs-list_pagination_button,
	.w-pagination-next,
	.w-pagination-previous {
		color: var(--pagination-btn-font-color);
		background-color: var(--pagination-btn-bg-color);
		transition: transform 0.2s ease, background-color 0.3s ease, color 0.3s ease;
	}

	a.fs-list_pagination_button:hover,
	.w-pagination-previous:hover,
	.w-pagination-next:hover {
		color: var(--pagination-btn-font-color-hover);
		background-color: var(--pagination-btn-bg-color-hover);
		transform: scale(1.05);
	}

	.fs-list_pagination_dots p {
		font-size: 20px;
		letter-spacing: 4px;
		color: var(--pagination-btn-font-color);
		margin: 0;
		padding: 0;
		line-height: 2;
	}

	a[aria-disabled="true"] {
		cursor: not-allowed;
		pointer-events: none;
		opacity: 0.5;
		transform: none !important;
	}

	.w-dyn-item {
		opacity: 0;
		transform: translateY(10px);
		animation: fadeInUp 0.2s ease forwards;
	}

	@keyframes fadeInUp {
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.w-dyn-empty {
		min-height: 200px !important;
		margin: 0 10px;
		display: flex;
		justify-content: center;
		align-items: center;
		text-align: center;
		font-size: 1rem;
		background: rgba(215, 215, 215, 0.16);
		color: #a7a7a7;
	}
</style>

<script async type="module" src="https://cdn.jsdelivr.net/npm/@finsweet/attributes@2/attributes.js" fs-list fs-rangeslider></script>
<script>
	// This is for Pagination
	const wrappers = document.querySelectorAll('.w-dyn-list');
	wrappers.forEach((wrapper) => {
		// This classname is used if you want other collection list in your website to exclude pagination logic
		if (wrapper.classList.contains('fs-exclude-in-paginating')) return;
		wrapper.classList.add('fs-cms_wrapper');

		const listItems = wrapper.querySelector('.w-dyn-items');
		if (listItems) {
			listItems.classList.add('fs-card_list');
			listItems.setAttribute('fs-list-element', 'list');
			listItems.setAttribute('fs-list-load', 'pagination');
			listItems.setAttribute('fs-list-pagesiblings', '2');
			listItems.setAttribute('fs-list-pageboundary', '2');
		}

		const paginationWrapper = wrapper.querySelector('.w-pagination-wrapper');
		if (paginationWrapper) {
			paginationWrapper.classList.add('fs-list_pagination');

			const prev = paginationWrapper.querySelector('.w-pagination-previous');
			if (prev) {
				prev.classList.add('fs-list_pagination_prev', 'is-list-pagination-disabled');
			}

			const next = paginationWrapper.querySelector('.w-pagination-next');
			if (next) {
				next.classList.add('fs-list_pagination_next', 'is-list-pagination-disabled');
			}

			const pageButtonsDiv = document.createElement('div');
			pageButtonsDiv.classList.add('list_page-buttons');

			const pageButton = document.createElement('a');
			pageButton.classList.add('fs-list_pagination_button');
			pageButton.setAttribute('fs-list-element', 'page-button');

			const dotsDiv = document.createElement('div');
			dotsDiv.classList.add('fs-list_pagination_dots');
			dotsDiv.setAttribute('fs-list-element', 'page-dots');

			const dotsP = document.createElement('p');
			dotsP.textContent = '...';
			dotsDiv.appendChild(dotsP);

			pageButtonsDiv.appendChild(pageButton);
			pageButtonsDiv.appendChild(dotsDiv);

			if (next) {
				paginationWrapper.insertBefore(pageButtonsDiv, next);
			} else {
				paginationWrapper.appendChild(pageButtonsDiv);
			}
		}
		if (wrapper.querySelector('.w-dyn-empty')) {
			wrapper.querySelector('.w-dyn-empty div').textContent = "No listings are available right now. Please check back soon for new properties.";
			const pagination = wrapper.querySelector('.w-pagination-wrapper');
			if (pagination) pagination.style.display = 'none';
		}
	});
	document.addEventListener('fs-list-update', () => {
		const newItems = document.querySelectorAll('.w-dyn-item');
		newItems.forEach((item, index) => {
			item.style.animation = 'none'; 
			item.offsetHeight; 
			item.style.animation = `fadeInUp 0.2s ease forwards ${index * 0.02}s`;
		});
	});
</script>
